/*>>> FAXMACHINE <<<*/

var application_base64 = "PGh0bWw+CiAgPGhlYWQ+CiAgICA8IS0tIEkndmUgZW5jb3VudGVyZWQgc29tZSBwcm9ibGVtcyB3aXRoIGxvYWRpbmcgQ1NTIGZyb20gcmF3IGdpdGhhY2sgc28gSSdsbCBqdXN0IGxlYXZlIGl0IGxpa2UgdGhpcyBmb3IgYSBzaG9ydCBwZXJpb2Qgb2YgdGltZSAtLT4KICAgIDxzdHlsZT4KICAgICAgYm9keXttYXJnaW46MDtmb250LXNpemU6MTJweH0uaGVhZGJ1dHtiYWNrZ3JvdW5kLWNvbG9yOiNjY2M7b3V0bGluZTowO3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtc2l6ZTo4O3BhZGRpbmc6NXB4O2hlaWdodDoxNnB4O21hcmdpbi1sZWZ0OjB9LmhlYWRidXQ6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMDRmO2NvbG9yOkZGRn0uc2xpZHNldHRpbmd7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoxMDBweH0uc2xpZF9jb250YWluZXJ7bWFyZ2luLXRvcDo1cHh9LnNldHRpbmdfY29udGFpbmVye292ZXJmbG93LXk6YXV0bztvdmVyZmxvdy14OmhpZGRlbjt3aWR0aDo0ODBweDtoZWlnaHQ6MTI1cHg7bWFyZ2luLXRvcDoycHg7bWFyZ2luLWxlZnQ6NHB4fS5vcHRfY29udGFpbmVye2JhY2tncm91bmQtY29sb3I6I2NjYztoZWlnaHQ6MjBweH0uYm9keV9jb250YWluZXJ7d2lkdGg6NDg0cHg7aGVpZ2h0OjY0MHB4O2JhY2tncm91bmQtY29sb3I6I2FhYTttYXJnaW46MH0jdm94ZWxzY3JlZW57d2lkdGg6NDgwcHg7aGVpZ2h0OjQ4MHB4O2JvcmRlcjoycHggaW5zZXR9CiAgICA8L3N0eWxlPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwOi8vd2luZG93czkzLm5ldC9jL3N5cy9za2lucy93OTMuY3NzP3Y9Mi4zLjgiPgogIDwvaGVhZD4KICA8Ym9keT4KICAgIDxkaXYgY2xhc3M9ImJvZHlfY29udGFpbmVyIj4KICAgICAgPGRpdiBjbGFzcz0ib3B0X2NvbnRhaW5lciI+CiAgICAgICAgPHNwYW4gaWQ9InNhdmUiIGNsYXNzPSJoZWFkYnV0Ij5TQVZFPC9zcGFuPgogICAgICAgIDxzcGFuIGlkPSJvcGVuIiBjbGFzcz0iaGVhZGJ1dCI+T1BFTjwvc3Bhbj4KICAgICAgICA8c3BhbiBpZD0iaGVscCIgY2xhc3M9ImhlYWRidXQiPkhFTFA8L3NwYW4+CgogICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjogZ3JheSI+JiMxNjA7JiMxNjA7JiMxNjA7PC9zcGFuPgoKICAgICAgICA8c3BhbiBpZD0icGxhaW4iIGNsYXNzPSJoZWFkYnV0Ij5QTEFJTjwvc3Bhbj4KICAgICAgICA8c3BhbiBpZD0idm9pZCIgY2xhc3M9ImhlYWRidXQiPlRIRSBWT0lEPC9zcGFuPgogICAgICAgIDxzcGFuIGlkPSJjb2xvciIgY2xhc3M9ImhlYWRidXQiPkNPTE9SIEhBQ0tFUjwvc3Bhbj4KICAgICAgPC9kaXY+CiAgICAgIDxjYW52YXMgd2lkdGg9IjQ4MCIgaGVpZ2h0PSI0ODAiIGlkPSJ2b3hlbHNjcmVlbiI+PC9jYW52YXM+CiAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdfY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJzbGlkX2NvbnRhaW5lciI+CiAgICAgICAgICA8c3Bhbj4gRElTVDogPC9zcGFuPiA8aW5wdXQgdHlwZT0icmFuZ2UiIG1heD0iNiIgdmFsdWU9IjIiIHN0ZXA9IjAuMSIgaWQ9ImRpc3QiIGNsYXNzPSJzbGlkc2V0dGluZyIgc3R5bGU9IndpZHRoOiAzNjBweCI+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ic2xpZF9jb250YWluZXIiPgogICAgICAgICAgPHNwYW4+IFktUE9TOiA8L3NwYW4+IDxpbnB1dCB0eXBlPSJyYW5nZSIgbWF4PSIxNiIgdmFsdWU9IjAiIGlkPSJ5cG9zIiBjbGFzcz0ic2xpZHNldHRpbmciIHN0eWxlPSJ3aWR0aDogMzYwcHgiPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InNsaWRfY29udGFpbmVyIj4KICAgICAgICAgIDxzcGFuPiBNT1VTRTogPC9zcGFuPiA8aW5wdXQgdHlwZT0icmFuZ2UiIG1heD0iMzAiIHZhbHVlPSIxMCIgaWQ9Im1vdXNlIiBjbGFzcz0ic2xpZHNldHRpbmciIHN0eWxlPSJ3aWR0aDogMzYwcHgiPgogICAgICAgIDwvZGl2PgogICAgICAgIDxicj4KICAgICAgICA8aHI+CiAgICAgICAgPGNlbnRlcj4KICAgICAgICAgIDxkaXYgaWQ9ImNvbG9ycyI+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPC9jZW50ZXI+CiAgICAgICAgPGhyPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vcmF3Y2RuLmdpdGhhY2suY29tL3dpbmRvd3M5My1jb21tdW5pdHkvQnVpbGQzRC82MzQxYjAyYTgzMjg5ODYxN2JmY2EyYTVhM2UzNzkxN2UzNDQ1MGVmL2VuZ2luZS5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9yYXdjZG4uZ2l0aGFjay5jb20vd2luZG93czkzLWNvbW11bml0eS9CdWlsZDNELzYzNDFiMDJhODMyODk4NjE3YmZjYTJhNWEzZTM3OTE3ZTM0NDUwZWYvbWFpbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9yYXdjZG4uZ2l0aGFjay5jb20vd2luZG93czkzLWNvbW11bml0eS9CdWlsZDNELzYzNDFiMDJhODMyODk4NjE3YmZjYTJhNWEzZTM3OTE3ZTM0NDUwZWYvYXBwLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQ+CiAgICAgIHZhciBjb2xvcnNfZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9ycycpOyAvLyBwbGFjZSBjb2xvciBidXR0b25zIHRoZXJlCgogICAgICBmb3IodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7CiAgICAgICAgdmFyIGNvbG9yID0gJyMnICsgKCgoaSA+PiAyKSAmIDEpID8gJ0ZGJyA6ICcwMCcpICsgKCgoaSA+PiAxKSAmIDEpID8gJ0ZGJyA6ICcwMCcpICsgKChpICYgMSkgPyAnRkYnIDogJzAwJyk7IC8vIGdldCBjb2xvciBmcm9tIGkKICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICBlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjsKICAgICAgICBlbC5zdHlsZS5tYXJnaW5SaWdodCA9ICczcHgnOwogICAgICAgIGVsLm9uY2xpY2sgPSAndGlsZV9jb2xvcjNkID0gZ2V0Q29sb3IoY29sb3IpJzsKICAgICAgICBlbC5pbm5lckhUTUwgPSAiJiMxNjA7Ii5yZXBlYXQoMyk7CiAgICAgICAgY29sb3JzX2Rpdi5hcHBlbmRDaGlsZChlbCk7CiAgICAgIH0KICAgICAgZm9yKHZhciBpID0gMDsgaSA8IDg7IGkrKykgewogICAgICAgIHZhciBjb2xvciA9ICcjJyArICgoKGkgPj4gMikgJiAxKSA/ICc4OCcgOiAnMDAnKSArICgoKGkgPj4gMSkgJiAxKSA/ICc4OCcgOiAnMDAnKSArICgoaSAmIDEpID8gJzg4JyA6ICcwMCcpOyAvLyBnZXQgY29sb3IgZnJvbSBpCiAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7CiAgICAgICAgZWwuc3R5bGUubWFyZ2luUmlnaHQgPSAnM3B4JzsKICAgICAgICBlbC5vbmNsaWNrID0gJ3RpbGVfY29sb3IzZCA9IGdldENvbG9yKGNvbG9yKSc7CiAgICAgICAgZWwuaW5uZXJIVE1MID0gIiYjMTYwOyIucmVwZWF0KDMpOwogICAgICAgIGNvbG9yc19kaXYuYXBwZW5kQ2hpbGQoZWwpOwogICAgICB9CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4K";
var application_init = "bGUuX2FwcHNbIkJ1aWxkM0QiXSA9IHsKICBuYW1lOiAiM0RCdWlsZGVyIiwKICBjYXRoZWdvcmllczogIkdyYXBoaWNzIiwKICBpY29uOiAiL2MvZmlsZXMvaW1hZ2VzL2ljb25zL2JvbWIucG5nIiwKICBleGVjOiAoKT0+ICRleGUoImlmcmFtZSAvYS9ldGMvM0RCdWlsZGVyL2FwcC5odG1sIC0td2lkdGg9NDg0IC0tLWhlaWdodD02NDAgLS1pY29uPS9jL2ZpbGVzL2ltYWdlcy9pY29ucy9ib21iLnBuZyIpCn0=";

/* create files and folders */

$db.set("etc/3DBuilder/models/README.txt", "You can save your models here.");
$db.set("etc/3DBuilder/app.html", atob(application_base64));
$db.set("boot/Build3D_init.js", atob(application_init));
localStorage.setItem('desktop/Build3D.lnk42', '{"exe":"Build3D"}');

$alert("Press OK to restart.", function() {$exe("reboot")})
